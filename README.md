<a href="https://github.com/EcoPasteHub/EcoPaste">
  <img src="https://socialify.git.ci/EcoPasteHub/EcoPaste/image?description=1&descriptionEditable=%E9%80%82%E7%94%A8%E4%BA%8E%20Windows%E3%80%81MacOS%20%E5%92%8C%20Linux(x11)%20%E7%9A%84%E5%BC%80%E6%BA%90%E5%89%AA%E8%B4%B4%E6%9D%BF%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E3%80%82&font=Source%20Code%20Pro&forks=1&issues=1&logo=https%3A%2F%2Fgithub.com%2FEcoPasteHub%2FEcoPaste%2Fblob%2Fmaster%2Fpublic%2Flogo.png%3Fraw%3Dtrue&name=1&owner=1&pattern=Floating%20Cogs&pulls=1&stargazers=1&theme=Auto" alt="EcoPaste" />
</a>

<div align="center">
  <br/>

  <div>
      简体中文 | <a href="./README.zh-TW.md">繁體中文</a> | <a href="./README.en-US.md">English</a> | <a href="./README.ja-JP.md">日本語</a>
  </div>

  <br/>
    
  <div>
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        alt="Windows"
        src="https://img.shields.io/badge/-Windows-blue?style=flat-square&logo=data:image/svg+xml;base64,PHN2ZyB0PSIxNzI2MzA1OTcxMDA2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE1NDgiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNNTI3LjI3NTU1MTYxIDk2Ljk3MTAzMDEzdjM3My45OTIxMDY2N2g0OTQuNTEzNjE5NzVWMTUuMDI2NzU3NTN6TTUyNy4yNzU1NTE2MSA5MjguMzIzNTA4MTVsNDk0LjUxMzYxOTc1IDgwLjUyMDI4MDQ5di00NTUuNjc3NDcxNjFoLTQ5NC41MTM2MTk3NXpNNC42NzA0NTEzNiA0NzAuODMzNjgyOTdINDIyLjY3Njg1OTI1VjExMC41NjM2ODE5N2wtNDE4LjAwNjQwNzg5IDY5LjI1Nzc5NzUzek00LjY3MDQ1MTM2IDg0Ni43Njc1OTcwM0w0MjIuNjc2ODU5MjUgOTE0Ljg2MDMxMDEzVjU1My4xNjYzMTcwM0g0LjY3MDQ1MTM2eiIgcC1pZD0iMTU0OSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPg=="
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        alt="MacOS"
        src="https://img.shields.io/badge/-MacOS-black?style=flat-square&logo=apple&logoColor=white"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img 
        alt="Linux"
        src="https://img.shields.io/badge/-Linux-yellow?style=flat-square&logo=linux&logoColor=white" 
      />
    </a>
  </div>

  <div>
    <a href="./LICENSE">
      <img
        src="https://img.shields.io/github/license/EcoPasteHub/EcoPaste?style=flat-square"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        src="https://img.shields.io/github/package-json/v/EcoPasteHub/EcoPaste?style=flat-square"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        src="https://img.shields.io/github/downloads/EcoPasteHub/EcoPaste/total?style=flat-square"
      />  
    </a >
  </div>

  <br/>

  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="./static/app-dark.zh-CN.png" />
    <source media="(prefers-color-scheme: light)" srcset="./static/app-light.zh-CN.png" />
    <img src="./static/app-light.zh-CN.png" />
  </picture>
</div>

## 下载

### Windows
最新版本: [前往 Releases 下载最新构建程序包](https://github.com/3899/EcoPaste/releases/latest)

安装指南: [点击查看](https://ecopaste.cn/guide/install#linux)

## 功能介绍

- 🎉 基于 Tauri v2 开发，轻量高效，跨平台体验更进一步。
- 💻 支持 Windows、macOS 和 Linux（x11），在多设备间无缝切换。
- ✨ 简洁直观的用户界面，操作简单，零门槛上手，开箱即用。
- 📋 支持纯文本、富文本、HTML、图片和文件类型的剪贴板内容。
- 🔒 数据本地存储，确保用户隐私安全，数据完全掌控在用户手中。
- 📝 支持备注功能，轻松分类、管理和检索，让工作更高效。
- ⚙️ 丰富的个性化设置，满足不同用户需求，打造专属体验。
- 🤝 完善的文档与社区支持，与开发者共同探索与成长。
- 🧩 持续优化中，更多惊喜功能等你发现。

## 🚀 Fork 版本更新历史

> 本仓库是 [EcoPasteHub/EcoPaste](https://github.com/EcoPasteHub/EcoPaste) 的 Fork 版本，在原版基础上增加了以下易用性改进与更新历史：

### M04.x <font size="-2" color="gray">（基于原版v0.6.0-beta.3分支）</font>

#### M04.4

##### ✨ 新增功能
- **✂️ 支持文本片段选取**：可在剪贴板窗口中选中指定文本片段，通过自动弹出的浮动工具栏或增强右键菜单快速执行「复制 / 粘贴」操作，且不影响原有“单击 / 双击粘贴”功能，支持`纯文本`、`富文本`、`HTML`类型。
- **🔛 文本片段选取独立开关**：可按需启用或禁用部分文本选取功能（偏好设置 → 内容设置 → 文本片段选取）。

#### M04.3

##### ✨ 新增功能
- **🎨 CMYK颜色识别**：新增 CMYK 颜色格式的智能提取与预览支持。

##### 💫 体验优化
- **🖱️ 右键菜单重构**：
  - **功能分组**：按「复制粘贴类 / 操作类 / 编辑类」细分归类，关联功能聚合排布，高频连续操作就近放置，缩短操作距离，提升选择效率。
  - **功能排布**：依据操作流程先后与使用频率优化功能排序。
  - **专属定制**：针对`纯文本`、`富文本`、`HTML`、`图片`、`文件`、`Markdown`、`链接`、`路径`、`代码`、`邮箱`、`颜色`、`指令` 12 种剪贴板内容类型，分别量身定制专属菜单项。

##### 🐞 bug 修复
- **⚙️ 操作按钮配置修复**：补齐偏好设置中操作按钮缺失的「运行」选项，支持在设置界面正常配置显隐和顺序。
- **🎨 颜色分组同步修复**：修复在颜色专属分组内复制新颜色内容时，列表未动态置顶更新的显示同步问题。

#### M04.2

##### ✨ 新增功能
- **🔍 Windows 路径与指令智能识别**：自动识别环境变量路径 (`%APPDATA%` 等)、Shell 文件夹 (`shell:startup` 等)、文件系统路径 (`C:\Windows` 等) 和管理工具指令 (`regedit` 等)，支持右键菜单和操作按钮一键快速打开或运行。
- **🔄 配置文件自动同步**：偏好设置变更时自动同步配置到用户自定义目录，确保备份配置始终最新。

#### M04.1

##### ✨ 新增功能
- **☁️ WebDAV 云备份体系完善**：
  - **精简与完整备份解耦**：细分“完整”与“精简”两种备份规则，支持手动、自动备份场景下的独立管控，灵活适配不同备份需求。
  - **自动调度引擎**：内置独立的前端任务调度引擎，实现了灵活的“定时”、“间隔”以及“Cron表达式”三种循环模式，实现完整备份与精简备份双线并行调度，提升备份效率。
- **📝 新增 Markdown 支持**：采用全新计分权重正则检测法，精准判断Markdown格式，彻底规避普通文本、代码被误判归类的问题，同时支持 Markdown 格式化沉浸编辑，优化编辑体验。
- **🖼️ 图片定位目录**：图片类型支持一键拉起资源管理器精准定位原文件所在目录。

##### 💫 体验优化
- **☁️ 无缝恢复交互**：重构WebDAV恢复弹窗唤醒机制，会优先即刻渲染骨架及 Loading UI，后台采用非阻塞式拉取云端记录，彻底解决网络延迟导致的界面假死、无反馈顿挫问题，提升操作流畅度。
- **💾 备份压缩包兼容性优化**：运用独立临时隔离区 (Staging Dir) 技术，使得 WebDAV 备份结构与原生本地“导出数据”完全一致，实现双入口无缝兼容，备份与恢复全程无阻碍。

##### 🐞 bug 修复
- **🌐 WebDAV 跨端阻断**：利用 Rust 原生钩子 (`ensure_remote_dir`) 自动在目标云端探测并递归构建父级目录，彻底解决了因上级目录丢失而抛出的 405 Method Not Allowed 错误。
- **💾 数据库备份异常截断**：防御性修复了因底层 Kysely 历史表中存在 NULL 系列空白字段导致的 Invalid column type Null 报错中止问题，保障数据库备份的完整性与稳定性。
- **📋 类型判断权重优化**：彻底修复从 Excel 等表格软件复制单元格时，由于同时持有 Image + HTML 格式组合，导致文本内容被强制降权、误识别为图片的底层漏洞，确保复制内容识别准确。

### M03.x <font size="-2" color="gray">（基于原版v0.6.0-beta.3分支）</font>

#### ✨ 新增功能
- **☁️ WebDAV 云端备份**：支持通过 WebDAV 协议将剪贴板数据备份到云端（坚果云、NextCloud 等），提供手动备份、自动定时备份、备份数量限制、一键恢复等完整功能。
- **🔒 本地凭据安全存储**：WebDAV 的服务器地址、用户名、密码与路径等敏感配置信息均采用原生调用系统级 Windows 凭据管理器（Credential Manager）进行高强度加密安全持久化存储，应用层面不再以明文暴露，彻底杜绝隐私泄露风险。
- **🗑️ 可选删除本地图片**：删除图片内容时，二次确认弹窗增加"删除本地文件"选项（默认选中），可选择保留本地文件仅删除剪贴板记录。

### M02.x <font size="-2" color="gray">（基于原版v0.6.0-beta.3分支）</font>

#### ✨ 新增功能
- **🎨 独立群组与颜色直出**：新增 "链接"、"颜色"、"代码"、"邮箱" 原生专属群组分类。精准提取并高亮显示 RGB/RGBA 等颜色格式，路径链接高亮直击目标。
- **📝 二次沉浸编辑**：支持文本等富内容数据的独立二级弹窗编辑与系统级别快速文件定位。
- **💻 高亮代码语法预览**：自动侦测复制的代码片段并赋予媲美 IDE 界面的原生级代码语法高亮渲染（偏好设置 → 剪贴板 → 显示设置 → 代码语法高亮）。
- **🎯 数据来源截取**：提供来源拷贝 App 的 Icon 与应用名称获取（偏好设置 → 剪贴板 → 显示设置 → 记录应用来源）。
- **⚡️ 原生快速访问**：支持在资源管理器中直接打开文件路径，在浏览器中一键打开网页链接，以及调用系统默认图片查看器查看图片内容。
- **🔢 代码/文件显示行数自定义**：扩展了行数适配能力，支持代码和文件类型（偏好设置 → 剪贴板 → 显示设置 → 代码/文件显示行数）。

> **致谢**：本项目中“独立群组与颜色直出”、“二次沉浸编辑”、“高亮代码语法预览”、“数据来源截取”与“原生快速访问”的实现思路参考自 [EcoPaste-Sync](https://github.com/Ruszero01/EcoPaste-Sync)，特此致谢。

#### 🐛 原版缺陷修复
- **📸 截屏完美转储**：重构 SQLite 日志行为及底层 FS 映射链路，让截屏图片完美保存至指定的自定义本地目录，彻底解决原版截图因内置库限制导致自定义目录崩溃和展示图片白板红叉的问题，杜绝 C 盘资源浪费。
- **🔗 复制链接双重记录**：彻底修复复制链接时剪贴板会出现两条完全相同记录的顽固问题。
- **📊 复制文档表格内容双重记录**：彻底修复从 Word、Excel 等文档的表格中复制内容时，剪贴板会同时出现两条完全相同重复记录的问题。

### M01.x <font size="-2" color="gray">（基于原版v0.6.0-beta.3分支）</font>

#### 🔄 动态展开收起与沉浸体验
- **展开完整数据**：当内容超过显示限制时提供展开/收起按钮，图文状态不受虚拟滚动破坏，滚动后状态始终保持。
- **不夺焦静默窗口（Windows）**：呼出窗口时原应用保持主焦点，双击条目直接静默粘贴；点击窗口外部立即自动隐藏。
- **自动跟随输入光标**：窗口跟随编辑器输入光标位置贴图显示，实现心流体验。
- **偏好设置架构重制**：新增「显示设置」分组，精细化分类各项高级设定。

#### 📏 文本与图片显示高级适配
- **文本显示行数自定义**：偏好设置 → 剪贴板 → 显示设置 → 文本显示行数（1 - 50 行）
- **图片预渲染高度缩放**：支持灵活调整图片高度，超过后智能展开或统一收起（50 - 500 像素）

#### ⚙️ 配置持久化
- 所有新增配置项自动保存到用户数据目录，应用更新后配置不会丢失，无需手动导出/导入。

#### 🐛 原版缺陷修复
- **📋 剪贴板类型误判**：彻底修复网络图片可能会因 html 权重被错误识别为网页的问题。深度改写判定逻辑，赋予图片层级最高优先级。
- **💾 备份通道恢复**：原版中由于权限限制被遗弃的数据备份入口，全面解封并确保导入导出稳定运行。

#### 🔄 自动同步上游
- 每天自动检查上游 EcoPasteHub/EcoPaste 的更新
- 有新版本时跨分支自动合并并触发增量构建
- 如遇重构冲突会创建 Issue 提供手工接轨通道

---

## 问题反馈

1. 🔍 优先查阅[常见问题](https://ecopaste.cn/problem/macos/damage)或浏览已有 [issues](https://github.com/EcoPasteHub/EcoPaste/issues)。

2. ❓ 如果问题仍未解决，请提交新的 [issue](https://github.com/EcoPasteHub/EcoPaste/issues/new/choose)，并附上详细描述，方便我们快速定位和解决。
