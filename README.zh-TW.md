<a href="https://github.com/EcoPasteHub/EcoPaste">
  <img src="https://socialify.git.ci/EcoPasteHub/EcoPaste/image?description=1&descriptionEditable=%E9%81%A9%E7%94%A8%E6%96%BC%20Windows%E3%80%81MacOS%20%E5%92%8C%20Linux(x11)%20%E7%9A%84%E9%96%8B%E6%BA%90%E5%89%AA%E8%B2%BC%E6%9D%BF%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E3%80%82&font=Source%20Code%20Pro&forks=1&issues=1&logo=https%3A%2F%2Fgithub.com%2FEcoPasteHub%2FEcoPaste%2Fblob%2Fmaster%2Fpublic%2Flogo.png%3Fraw%3Dtrue&name=1&owner=1&pattern=Floating%20Cogs&pulls=1&stargazers=1&theme=Auto" alt="EcoPaste" />
</a>

<div align="center">
  <br/>

  <div>
    繁體中文 | <a href="./README.md">简体中文</a> | <a href="./README.en-US.md">English</a> | <a href="./README.ja-JP.md">日本語</a>
  </div>
  
  <br/>

  <div>
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        alt="Windows"
        src="https://img.shields.io/badge/-Windows-blue?style=flat-square&logo=data:image/svg+xml;base64,PHN2ZyB0PSIxNzI2MzA1OTcxMDA2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE1NDgiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNNTI3LjI3NTU1MTYxIDk2Ljk3MTAzMDEzdjM3My45OTIxMDY2N2g0OTQuNTEzNjE5NzVWMTUuMDI2NzU3NTN6TTUyNy4yNzU1NTE2MSA5MjguMzIzNTA4MTVsNDk0LjUxMzYxOTc1IDgwLjUyMDI4MDQ5di00NTUuNjc3NDcxNjFoLTQ5NC41MTM2MTk3NXpNNC42NzA0NTEzNiA0NzAuODMzNjgyOTdINDIyLjY3Njg1OTI1VjExMC41NjM2ODE5N2wtNDE4LjAwNjQwNzg5IDY5LjI1Nzc5NzUzek00LjY3MDQ1MTM2IDg0Ni43Njc1OTcwM0w0MjIuNjc2ODU5MjUgOTE0Ljg2MDMxMDEzVjU1My4xNjYzMTcwM0g0LjY3MDQ1MTM2eiIgcC1pZD0iMTU0OSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPg=="
      />
    </a >  
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        alt="MacOS"
        src="https://img.shields.io/badge/-MacOS-black?style=flat-square&logo=apple&logoColor=white"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img 
        alt="Linux"
        src="https://img.shields.io/badge/-Linux-yellow?style=flat-square&logo=linux&logoColor=white" 
      />
    </a>
  </div>

  <div>
    <a href="./LICENSE">
      <img
        src="https://img.shields.io/github/license/EcoPasteHub/EcoPaste?style=flat-square"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        src="https://img.shields.io/github/package-json/v/EcoPasteHub/EcoPaste?style=flat-square"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        src="https://img.shields.io/github/downloads/EcoPasteHub/EcoPaste/total?style=flat-square"
      />  
    </a >
  </div>

  <br/>

  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="./static/app-dark.zh-TW.png" />
    <source media="(prefers-color-scheme: light)" srcset="./static/app-light.zh-TW.png" />
    <img src="./static/app-light.zh-TW.png" />
  </picture>
</div>

## 下載

### Windows

最新版本: [前往 Releases 下載最新構建程式包](https://github.com/3899/EcoPaste/releases/latest)

安裝指南：[點擊查看](https://ecopaste.cn/guide/install#linux)

## 功能介紹

- 🎉 基於 Tauri v2 開發，輕量高效，跨平臺體驗更進一步。
- 💻 支持 Windows、macOS 和 Linux（x11），在多設備間無縫切換。
- ✨ 簡潔直觀的使用者介面，操作簡單，零門檻上手，開箱即用。
- 📋 支持純文字、富文字、HTML、圖片和檔案類型的剪貼板內容。
- 🔒 數據本地存儲，確保用戶隱私安全，數據完全掌控在用戶手中。
- 📝 支持備註功能，輕鬆分類、管理和檢索，讓工作更高效。
- ⚙️ 豐富的個性化設定，滿足不同用戶需求，打造專屬體驗。
- 🤝 完善的檔案與社區支持，與開發者共同探索與成長。
- 🧩 持續優化中，更多驚喜功能等你發現。

## 🚀 Fork 版本更新歷史

> 本倉庫是 [EcoPasteHub/EcoPaste](https://github.com/EcoPasteHub/EcoPaste) 的 Fork 版本，在原版基礎上增加了以下易用性改進與更新歷史：

### M04.x <font size="-2" color="gray">（基於原版v0.6.0-beta.3分支）</font>

#### M04.5

##### 🏗️ 架構優化
- **🛡️ 向下相容加固**：遵循「發送保守、接收寬容」的魯棒性原則，解決版本降級時因資料結構不相容導致的崩潰問題。
- **🗄️ 資料庫查詢防護**：重構資料庫查詢層，採用「統一列定義 → 按需查詢」架構，由 `historyColumnDefs` 單一資料來源同時驅動建表與查詢。低版本會自動忽略高版本資料庫新增的未知列，徹底杜絕因結構差異導致的降級崩潰。
- **⚙️ 設定檔處理防護**：新增 `strictDeepAssign` 嚴格深度合併機制，配置同步時僅接受當前版本已定義的配置項，高版本寫入的未知配置欄位將被靜默丟棄，防止狀態污染引發的渲染異常。

##### 💫 體驗優化
- **🎨 文字選取高亮優化**：將剪貼簿內文字片段選取的高亮背景色改為藍色 `#4096FF`，文字顏色設為白色 `#FFFFFF`。
- **📍 返回頂部按鈕優化**：統一調整剪貼簿視窗右下角「返回頂部」按鈕位置，底部與右側邊距保持對等。

##### 🐞 bug 修復
- **📋 來源應用資訊修復**：修復剪貼簿 `autoSort` 開啟時，最新條目來源圖示 / 名稱錯誤顯示為當前活動視窗資訊的問題，改為保留原始複製時的應用資訊。
- **💥 降級安裝崩潰修復**：修復從高版本降級安裝低版本時，剪貼簿視窗因資料庫多餘欄位導致 `Cannot destructure property 'key'` 渲染崩潰的問題（僅對當前及後續版本生效）。

#### M04.4

##### ✨ 新增功能
- **✂️ 支援文字片段選取**：可在剪貼簿視窗中選取指定文字片段，透過自動彈出的浮動工具列或增強右鍵選單快速執行「複製 / 貼上」操作，支援`純文字`、`富文字`、`HTML`類型。
- **🔛 文字片段選取獨立開關**：可按需啟用或禁用部分文字選取功能（偏好設定 → 內容設定 → 文字片段選取）。

#### M04.3

##### ✨ 新增功能
- **🎨 CMYK顏色識別**：新增 CMYK 顏色格式的智慧提取與預覽支援。

##### 💫 體驗優化
- **🖱️ 右鍵選單重構**：
  - **功能分組**：按「複製貼上類 / 操作類 / 編輯類」細分歸類，關聯功能聚合排布，高頻連續操作就近放置，縮短操作距離，提升選擇效率。
  - **功能排布**：依據操作流程先後與使用頻率優化功能排序。
  - **專屬定製**：針對`純文字`、`富文字`、`HTML`、`圖片`、`檔案`、`Markdown`、`連結`、`路徑`、`代碼`、`郵箱`、`顏色`、`指令` 12 種剪貼板內容類型，分別量身定製專屬選單項。

##### 🐞 bug 修復
- **⚙️ 操作按鈕配置修復**：補齊偏好設定中操作按鈕缺失的「執行」選項，支援在設定介面正常配置顯隱和順序。
- **🎨 顏色分組同步修復**：修復在顏色專屬分組內複製新顏色內容時，列表未動態置頂更新的顯示同步問題。

#### M04.2

##### ✨ 新增功能
- **🔍 Windows 路徑與指令智慧識別**：自動識別環境變數路徑 (`%APPDATA%` 等)、Shell 資料夾 (`shell:startup` 等)、檔案系統路徑 (`C:\Windows` 等) 和管理工具指令 (`regedit` 等)，支援右鍵選單和操作按鈕一鍵快速開啟或執行。
- **🔄 設定檔自動同步**：偏好設定變更時自動同步設定到使用者自訂目錄，確保備份設定始終為最新。

#### M04.1

##### ✨ 新增功能
- **☁️ WebDAV 雲備份體系完善**：
  - **精簡與完整備份解耦**：細分“完整”與“精簡”兩種備份規則，支援手動、自動備份場景下的獨立管控，靈活適配不同備份需求。
  - **自動排程引擎**：內建獨立的前端任務排程引擎，實現了靈活的“定時”、“間隔”以及“Cron運算式”三種迴圈模式，實現完整備份與精簡備份雙線並行排程，提升備份效率。
- **📝 新增 Markdown 支援**：採用全新計分權重正則檢測法，精準判斷Markdown格式，徹底規避普通文字、代碼被誤判歸類的問題，同時支援 Markdown 格式化沉浸編輯，優化編輯體驗。
- **🖼️ 圖片定位目錄**：圖片類型支援一鍵拉起檔案總管精準定位原檔案所在目錄。

##### 💫 體驗優化
- **☁️ 無縫恢復互動**：重構WebDAV恢復彈窗喚醒機制，會優先即刻渲染骨架及 Loading UI，後臺採用非阻塞式拉取雲端記錄，徹底解決網路延遲導致的介面假死、無反饋頓挫問題，提升操作流暢度。
- **💾 備份壓縮包相容性優化**：運用獨立臨時隔離區 (Staging Dir) 技術，使得 WebDAV 備份結構與原生本地“匯出資料”完全一致，實現雙入口無縫相容，備份與恢復全程無阻礙。

##### 🐞 bug 修復
- **🌐 WebDAV 跨端阻斷**：利用 Rust 原生鉤子 (`ensure_remote_dir`) 自動在目標雲端探測並遞迴構建父級目錄，徹底解決了因上級目錄遺失而拋出的 405 Method Not Allowed 錯誤。
- **💾 資料庫備份異常截斷**：防禦性修復了因底層 Kysely 歷史表中存在 NULL 系列空白欄位導致的 Invalid column type Null 報錯中止問題，保障資料庫備份的完整性與穩定性。
- **📋 類型判斷權重優化**：徹底修復從 Excel 等表格軟體複製儲存格時，由於同時持有 Image + HTML 格式組合，導致文字內容被強制降權、誤識別為圖片的底層漏洞，確保複製內容識別準確。

### M03.x <font size="-2" color="gray">（基於原版v0.6.0-beta.3分支）</font>

#### ✨ 新增功能
- **☁️ WebDAV 雲端備份**：支援透過 WebDAV 協議將剪貼板資料備份到雲端（堅果雲、NextCloud 等），提供手動備份、自動定時備份、備份數量限制、一鍵恢復等完整功能。
- **🔒 本地憑證安全儲存**：WebDAV 的伺服器地址、使用者名稱、密碼與路徑等敏感設定資訊均採用原生呼叫系統級 Windows 憑證管理員（Credential Manager）進行高強度加密安全持久化儲存，應用層面不再以明文暴露，徹底杜絕隱私洩漏風險。
- **🗑️ 可選刪除本地圖片**：刪除圖片內容時，二次確認彈窗增加"刪除本地檔案"選項（預設選中），可選擇保留本地檔案僅刪除剪貼板記錄。

#### 🐛 原版缺陷修復
- **💾 備份通道恢復**：原版中由於許可權限制被遺棄的資料備份入口，全面解封並確保匯入匯出穩定運行。

### M02.x <font size="-2" color="gray">（基於原版v0.6.0-beta.3分支）</font>

#### ✨ 新增功能
- **🎨 獨立群組與顏色直出**：新增 "連結"、"顏色"、"代碼"、"郵箱" 原生專屬群組分類。精準提取並高亮顯示 RGB/RGBA 等顏色格式，路徑連結高亮直擊目標。
- **📝 豐富二次沉浸編輯**：支援文字等富內容資料的獨立二級彈窗編輯與系統級別快速檔案定位。
- **💻 高亮代碼語法預覽**：自動偵測複製的代碼片段並賦予媲美 IDE 介面的原生級代碼語法高亮渲染（偏好設定 → 剪貼板 → 顯示設定 → 代碼語法高亮）。
- **🎯 資料來源截取**：提供來源拷貝 App 的 Icon 與應用名稱獲取（偏好設定 → 剪貼板 → 顯示設定 → 記錄應用來源）。
- **⚡️ 原生快速存取**：支援在檔案總管中直接開啟檔案路徑，在瀏覽器中一鍵開啟網頁連結，以及呼叫系統預設圖片查看器查看圖片內容。
- **🔢 代碼/檔案顯示行數自訂**：擴展了行數適配能力，支援代碼和檔案類型（偏好設定 → 剪貼板 → 顯示設定 → 代碼/檔案顯示行數）。

> **致謝**：本專案中“獨立群組與顏色直出”、“豐富二次沉浸編輯”、“高亮代碼語法預覽”、“🎯 資料來源截取”與“原生快速存取”的實現思路參考自 [EcoPaste-Sync](https://github.com/Ruszero01/EcoPaste-Sync)，特此致謝。

#### 🐛 原版缺陷修復
- **📸 截圖完美轉儲**：重構 SQLite 日志行為及底層 FS 映射鏈路，讓截圖圖片完美儲存至指定的自訂本地目錄，徹底解決原版截圖因內建庫限制導致自訂目錄崩潰和展示圖片白板紅叉的問題，杜絕 C 槽資源浪費。
- **🔗 複製連結雙重記錄**：徹底修復複製連結時剪貼板會出現兩條完全相同記錄的頑固問題。
- **📊 複製文件表格內容雙重記錄**：徹底修復從 Word、Excel 等文件的表格中複製內容時，剪貼板會同時出現兩條完全相同重複記錄的問題。

### M01.x <font size="-2" color="gray">（基於原版v0.6.0-beta.3分支）</font>

#### 🔄 動態展開收起與沉浸體驗
- **展開完整資料**：當內容超過顯示限制時提供展開/收起按鈕，圖文狀態不受虛擬滾動破壞，滾動後狀態始終保持。
- **不奪焦靜默視窗（Windows）**：呼出視窗時原應用保持主焦點，雙擊條目直接靜默粘貼；點擊視窗外部立即自動隱藏。
- **自動跟隨輸入游標**：視窗跟隨編輯器輸入游標位置貼圖顯示，實現心流體驗。
- **偏好設定架構重製**：新增「顯示設定」分組，精細化分類各項高級設定。

#### 📏 文字與圖片顯示高級適配
- **文字顯示行數自訂**：偏好設定 → 剪貼板 → 顯示設定 → 文字顯示行數（1 - 50 行）
- **圖片預渲染高度縮放**：支援靈活調整圖片高度，超過後智能展開或統一收起（50 - 500 像素）

#### ⚙️ 配置持久化
- 所有新增配置項自動儲存到用戶資料目錄，應用更新後配置不會丟失，無需手動匯出/匯入。

#### 🐛 原版缺陷修復
- **📋 剪貼板類型誤判**：徹底修復網路圖片可能會因 html 權重被錯誤識別為網頁的問題。深度改寫判定邏輯，賦予圖片層級最高優先順序。

#### 🔄 自動同步上游
- 每天自動檢查上游 EcoPasteHub/EcoPaste 的更新
- 有新版本時跨分支自動合併並觸發增量構建
- 如遇重構衝突會創建 Issue 提供手工接軌通道

---

## 問題迴響

1. 🔍 優先查閱[常見問題](https://ecopaste.cn/problem/macos/damage)或瀏覽已有 [issues](https://github.com/EcoPasteHub/EcoPaste/issues)。

2. ❓ 如果問題仍未解決，請提交新的 [issue](https://github.com/EcoPasteHub/EcoPaste/issues/new/choose)，並附上詳細描述，方便我們快速定位和解決。
